<!-------banner-------->
<section class="banner">
    <div class="text-center pt-14 text-white ">
        <h2 class=" text-[40px] font-bold ">{{restaurant.restaurantName}}</h2>
        <button *ngIf="visible" (click)="buttonClicked()"
            class=" bg-[#ed3c0b] px-6 py-3 rounded-md mt-3 opacity-75 hover:opacity-100">Read More</button>
        <div *ngIf="!visible" class="mt-2">
            <p *ngIf="restaurant.type">
                <i class="fa-solid fa-utensils mr-2 "></i>
                {{ restaurant.type }}
            </p>
            <p>
                <i class="fa-solid fa-location-dot mr-2 "></i>
                Address: {{restaurant.address}}
            </p>

            <p *ngIf="restaurant.parkingLot !== undefined">
                <i class="fa-solid fa-car mr-2 "></i>
                <span class="p-0.5 rounded text-sm" [class.bg-green-600]="restaurant.parkingLot"
                    [class.bg-red-600]="!restaurant.parkingLot">
                    {{ restaurant.parkingLot ? 'Parking Available' : 'No Parking' }}
                </span>
            </p>
        </div>
    </div>
</section>

<!-- Loading State
 <div *ngIf="loading" class="text-center py-12">
    <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-[#ed3c0b]"></div>
    <p class="mt-4 text-gray-600">Loading Menu...</p>
  </div> -->

<div class="md:grid md:grid-cols-4 p-10 mt-10 gap-4">
    <!-------------menu------------>
    <section class="col-span-3">
        <div>
            <div class="flex justify-between">
                <h2 class="text-[20px] font-bold md:text-[40px]">Menu</h2>
                <div>
                    <select id="price" name="price" aria-label="price" (change)="onSortChange($event)"
                        class=" bg-[#ed3c0b]  w-full  font-medium  rounded-md py-1.5 pr-7 pl-3 text-base text-white placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2  sm:text-sm/6">
                        <option value="">Sort menu by</option>
                        <option value="asc" [selected]="sortingType === 'asc'">Sort in ascending order</option>
                        <option value="desc" [selected]="sortingType === 'desc'">Sort in descending order</option>
                    </select>
                </div>
            </div>
            <div class="bg-white  rounded-lg shadow-lg mt-3 w-full  md:h-36 overflow-hidden hover:bg-[#ed3c0b80]  transition-colors duration-150 cursor-pointer "
                *ngFor="let item of menuItems; let i = index">
                <div class="grid grid-cols-5 gap-2  py-5 ps-5 ">
                    <img src="{{item.imageUrl}}" alt="{{item.itemName}}"
                        class="col-span-1 md:w-[100px] md:h-[100px] rounded-full">
                    <div class="pt-2 col-span-2">
                        <h3 class="font-semibold text-gray-800 ">{{item.itemName}}</h3>
                        <p class=" text-[#ed3c0b] font-semibold">{{item.itemPrice}}$ </p>
                    </div>

                    <div class="col-span-2 justify-center ">
                        <div class="flex pt-2 content-center items-center">
                            <button type="button" class="w-6 h-6 cursor-pointer border-none bg-transparent p-0 flex items-center justify-center" (click)="increaseItems(item, i); $event.stopPropagation()">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-full h-full">
                                    <path fill="#ed3c0b"
                                        d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM232 344l0-64-64 0c-13.3 0-24-10.7-24-24s10.7-24 24-24l64 0 0-64c0-13.3 10.7-24 24-24s24 10.7 24 24l0 64 64 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-64 0 0 64c0 13.3-10.7 24-24 24s-24-10.7-24-24z" />
                                </svg>
                            </button>
                            <p class="mx-2 min-w-[20px] text-center">{{getItemQuantity(item, i)}}</p>
                            <button type="button" class="w-6 h-6 cursor-pointer border-none bg-transparent p-0 flex items-center justify-center" (click)="decreaseItems(item, i); $event.stopPropagation()">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="w-full h-full">
                                    <path fill="#ed3c0b"
                                        d="M256 512a256 256 0 1 0 0-512 256 256 0 1 0 0 512zM168 232l176 0c13.3 0 24 10.7 24 24s-10.7 24-24 24l-176 0c-13.3 0-24-10.7-24-24s10.7-24 24-24z" />
                                </svg>
                            </button>
                        </div>
                        <div>
                            <button (click)="addToCart(item, i)"
                                class="bg-[#ed3c0b] text-[12px] text-white rounded-lg p-2 mt-3 hover:bg-[#d6340a] transition-colors hover:scale-105 ">Add
                                To Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>



    <!---------Related Restaurants-------->

    <section class="grid-col-1 mt-4 md:mt-0">
        <div>
            <div class="grid grid-cols-2 gap-2 md:grid-cols-1 bg-[#ed3c0b] border-2 border-opacity-90 p-2 rounded-lg ">
                <h2 class="text-[20px] font-bold ml-2 text-white">Related restaurants</h2><br>

                <div *ngFor="let restaurant of restaurants"
                    class="bg-white border-b-2 rounded-lg overflow-hidden  hover:shadow-xl transition-shadow duration-300 ">
                    <div class="p-6">
                        <h3 class="text-l font-semibold text-gray-800 mb-2">{{ restaurant.restaurantName }}</h3>

                        <div class=" flex space-x-2 text-gray-600 text-[12px]">

                            <p *ngIf="restaurant.type" class="flex items-center">
                                <i class="fa-solid fa-utensils mr-1 text-[#ed3c0b]"></i>
                                {{ restaurant.type }}
                            </p>

                            <a routerLink="/restaurant/{{restaurant.restaurantID}}"
                                class="  text-[#ed3c0b] text-[14px] px-12 py-2 font-semibold ">
                                Details&#8594;
                            </a>
                        </div>

                    </div>
                </div>
                 <a routerLink="/restaurants" class="text-white underline text-xs text-end">More Restaurants....</a>

            </div>
        </div>
    </section>
</div>